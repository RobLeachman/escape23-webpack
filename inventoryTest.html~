<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Escape23</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.55.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body style="background-color:#222222;"></body>
    <div id='escape23_div'></div>

<script type="text/javascript">

var config = {
    type: Phaser.AUTO,
    backgroundColor: '#2dab2d',
    parent: 'escape23_div',
    autoCenter: Phaser.Scale.CENTER_BOTH,
    scale: {
        mode: Phaser.Scale.FIT,
        parent: 'phaser-example',
        width: 720,
        height: 1280
    },
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};

var game = new Phaser.Game(config);
var currentWall = -1;
var currentWallImage;
const walls = new Array();
var wall = 0;

var wall1;
var wall2;
var wall3;
var wall4;

function preload ()
{
    wall1 = this.load.image('wall1', 'assets/backgrounds/invroom - room - donut.png');
    wall2 = this.load.image('wall2', 'assets/backgrounds/invroom - room - west.png');
    wall3 = this.load.image('wall3', 'assets/backgrounds/invroom - room - south.png');
    wall4 = this.load.image('wall4', 'assets/backgrounds/invroom - room - east.png');
    this.load.image('right', 'assets/sprites/arrowRight.png');
    this.load.image('left', 'assets/sprites/arrowLeft.png');
    this.load.image('inventory', 'assets/sprites/inventory cells.png');
    walls[0] = "wall1";
    walls[1] = "wall2";
    walls[2] = "wall3";
    walls[3] = "wall4";
}

function create ()
{
    this.add.image(0, 0, walls[1]).setOrigin(0,0);
    this.add.sprite(0, 0, 'inventory').setOrigin(0,0);
}

function update ()
{
    
    if (wall != currentWall) {
        currentWallImage = this.add.image(0, 0, walls[wall]).setOrigin(0,0);
        currentWall = wall;
    }

        left = this.add.sprite(80, 950, 'left');
        right = this.add.sprite(640, 950, 'right');
      
        right.setInteractive();
        right.on('pointerdown', () => {
            wall ++;
            if (wall > 3)
            wall = 0;
        });
        left.setInteractive();
        left.on('pointerdown', () => {
            wall --;
            if (wall <0)
            wall = 3;
        });        
}

</script>

</body>
</html>
